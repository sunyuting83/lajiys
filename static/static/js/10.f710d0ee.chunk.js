(this.webpackJsonpimovie=this.webpackJsonpimovie||[]).push([[10],{76:function(e,t,a){"use strict";a.r(t);var n,i,r=a(20),o=a.n(r),l=a(21),s=a(2),c=a(3),u=a(6),m=a(4),p=a(5),h=a(0),d=a.n(h),g=a(27),v=a(1),f=a(15),y=a.n(f),b=a(18),E=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={swiper:e.data},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){new y.a(".swiper-container",{loop:!0,autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!1},direction:"horizontal",pagination:{el:".swiper-pagination"},spaceBetween:15,loopedSlides:2})}},{key:"render",value:function(){var e=this,t=this.state.swiper;return d.a.createElement("div",null,t&&t.length>0&&d.a.createElement("div",{className:"swiper-container",style:{marginBottom:0}},d.a.createElement("div",{className:"swiper-wrapper"},t.length>0&&t.map((function(t,a){return d.a.createElement("div",{className:"swiper-slide",key:a},d.a.createElement(v.NavLink,{to:"/player/".concat(t.id),onClick:function(){Object(b.l)(e.props.height)}},d.a.createElement("img",{src:t.img,className:"swiper-img",alt:t.title}),d.a.createElement("div",{className:"swiper-word"},t.title)))}))),d.a.createElement("div",{className:"swiper-pagination"})))}}]),a}(h.Component),k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={notice:n.props.data},n}return Object(c.a)(a,[{key:"startmarquee",value:function(e,t,a){var i,r=this._marquee;function o(){i=setInterval(l,t),r.style.marginTop=parseInt(r.style.marginTop)-1+"px"}function l(){parseInt(r.style.marginTop)%e!==0?(r.style.marginTop=parseInt(r.style.marginTop)-1+"px",Math.abs(parseInt(r.style.marginTop))>=r.scrollHeight/2&&(r.style.marginTop=0)):(clearInterval(i),n=setTimeout(o,a))}r.innerHTML+=r.innerHTML,r.style.marginTop=0,n=setTimeout(o,a)}},{key:"componentDidMount",value:function(){var e=this._marquee.childNodes[0].clientHeight;this.props.data.length>0&&this.startmarquee(e,e,3500)}},{key:"componentWillUnmount",value:function(){clearTimeout(n)}},{key:"render",value:function(){var e=this,t=this.state.notice;return d.a.createElement("div",{class:"block catalog"},d.a.createElement("div",{class:"row"},d.a.createElement("div",{class:"col col-20 one-news"},d.a.createElement("b",null,"\u7f51\u7ad9"),d.a.createElement("span",null,"\u516c\u544a")),d.a.createElement("div",{class:"col col-80 marqueebox"},d.a.createElement("div",{ref:function(t){return e._marquee=t}},t&&t.length>0?t.map((function(e,t){return d.a.createElement("span",{key:t},e)})):d.a.createElement("span",null,"\u8fd8\u6ca1\u6709\u516c\u544a")))))}}]),a}(h.Component),w=a(37),O=a(23),T=a(7),S=a(24),j=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={data:{},scrollTop:0},n.handleScroll=n.handleScroll.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(b.e);case 2:t=e.sent,this.setState({data:t}),0===t.status&&(t.ttl=Date.now()+72e5,localStorage.setItem("index",JSON.stringify(t)),localStorage.setItem("menu",JSON.stringify({menu:t.menu,menumore:t.menumore})),this.getHeight());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleScroll",value:function(){var e=this._container.scrollTop;this.setState({scrollTop:e})}},{key:"getHeight",value:function(){var e=this,t=sessionStorage.getItem("indexheight");t||(t=0),i=setTimeout((function(){e._container.scrollTop=t}),100)}},{key:"componentDidMount",value:function(){document.title="".concat(b.c," - \u6700\u65b0\u7535\u5f71,\u9ad8\u6e05\u7535\u5f71,\u514d\u8d39\u7535\u5f71,\u5728\u7ebf\u7535\u5f71,\u6700\u65b0\u7535\u89c6\u5267"),document.getElementsByTagName("meta").keywords.content=b.g,document.getElementsByTagName("meta").description.content=b.b;var e=localStorage.getItem("index");null===e?this.getData():Date.now()+1>=(e=JSON.parse(e)).ttl?(localStorage.removeItem("index"),this.getData()):(this.setState({data:e}),this.getHeight())}},{key:"componentWillUnmount",value:function(){clearTimeout(i)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.scrollTop;return d.a.createElement("div",{className:"skin "+this.props.data.skin},0===a.status?d.a.createElement("div",null,d.a.createElement(g.a,{menu:a.menu,menumore:a.menumore,setSkin:this.props.setSkin,height:n,page:"indexheight"}),d.a.createElement("section",{className:"content has-header",ref:function(t){return e._container=t},id:"totop",onScrollCapture:function(){return e.handleScroll()}},d.a.createElement(E,{data:a.swiper,height:n,page:"indexheight"}),d.a.createElement(k,{data:a.notice}),d.a.createElement(w.a,{data:a.movielist,height:n,page:"indexheight"}))):d.a.createElement(T.a,{data:a,getData:this.getData.bind(this)}))}}]),a}(h.Component);t.default=Object(S.a)(j)}}]);